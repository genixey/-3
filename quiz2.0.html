<!DOCTYPE html>
<html lang="pt">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Quiz Festivais</title>
<style>
 
  body, html {
    margin: 0; padding: 0; height: 100%;
    font-family: Arial, sans-serif;
    background-color: black; 
    color: white;
    display: flex;
    justify-content: center;
    align-items: center;
  }

  h2{
    font-size: 30px;
    text-shadow: 0.05em 0 black, 0 0.05em black, -0.05em 0 black, 0 -0.05em black, -0.05em -0.05em black, -0.05em 0.05em black, 0.05em -0.05em black, 0.05em 0.05em black;
    margin-top:140px;
  }

  h3{
    font-size: 27px;
    text-shadow: 0.05em 0 black, 0 0.05em black, -0.05em 0 black, 0 -0.05em black, -0.05em -0.05em black, -0.05em 0.05em black, 0.05em -0.05em black, 0.05em 0.05em black;
  }

  .quiz-container {
    background: url('quiz_images/festival1.webp');
    background-size: cover;
    background-position: center;
    background-repeat: no-repeat;
    padding: 40px 30px;
    border-radius: 12px;
    width: 90vw;
    max-width: 800px; 
    min-height: 500px; 
    text-align: center;
    box-sizing: border-box;
  }

  button {
    margin-top: 20px;
    padding: 10px 20px;
    font-size: 19px;
    border: none;
    border-radius: 6px;
    cursor: pointer;
    background-color: #ff5c5c;
    color: white;
    transition: background-color 0.3s ease;

  }
  button:hover{
    background-color: #ff3030;
  }

  button:disabled {
    background-color: #aa3d3d;
    cursor: not-allowed;
  }
  #intro-screen{
    margin-top: 110px;
  }

  .option {
    display: block;
    background-color: #000000c7;
    margin: 10px 150px 10px 150px; /*remove on mobile*/
    padding: 12px;
    border-radius: 8px;
    cursor: pointer;
    user-select: none;
    font-size: 20px;
    transition: background-color 0.3s ease;
  }
  
  .option:hover{
    background-color:#ff6b6bb6
  }

  .option.selected {
    background-color: #ff5c5c;
  }

  #result-text{
    font-size: 30px;
    text-shadow: 0.05em 0 black, 0 0.05em black, -0.05em 0 black, 0 -0.05em black, -0.05em -0.05em black, -0.05em 0.05em black, 0.05em -0.05em black, 0.05em 0.05em black;
  }

  .fade-out {
  opacity: 0;
  transition: opacity 0.5s ease;
}

.fade-in {
  opacity: 1;
  transition: opacity 0.5s ease;
}


  @media(max-width:800px){
    .option {
      margin:  10px 0px 10px 0px; 
    }
  }

  @media(max-width:420px){
    h2{
      font-size:25px;
    }
    h3{
      font-size:22px;
    }
    .option{
      font-size:18px;
    }
  }
</style>
</head>
<body>
  <div class="quiz-container" id="quiz">
    <div id="intro-screen">
      <h2>Qual festival combina consigo?</h2>
      <button id="start-btn">Come√ßar</button>
    </div>

    <div id="question-screen" style="display:none;">
      <h3 id="question-text"></h3>
      <div id="options-container"></div>
      <button id="next-btn" disabled>Pr√≥ximo</button>
    </div>

    <div id="result-screen" style="display:none;">
      <h2>Festival escolhido:</h2>
      <h3 id="result-title"></h3>
      <p id="festival-info"></p>
      <button id="restart-btn">Tentar Novamente</button>
    </div>
  </div>

  <script>
    const questionBackgrounds = [
      "url('quiz_images/instrumentos5.webp')",
      "url('quiz_images/festival2.webp')",
      "url('quiz_images/festival3.webp')",
      "url('quiz_images/instrumentos.webp')",
      "url('quiz_images/festival5.webp')",
      "url('quiz_images/instrumentos3.webp')",
      "url('quiz_images/instrumentos2.webp')",
      "url('quiz_images/festival4.webp')"
    ];

     const questions = [
    {
      text: "Qual √© o seu g√©nero musical favorito?",
      options: [
        { text: "Rock", value: "rock" },
        { text: "Eletr√≥nica", value: "eletronica" },
        { text: "Pop", value: "pop" },
        { text: "Hip-Hop", value: "hip-hop" },
        { text: "Indie", value: "indie" },
        { text: "Metal", value: "metal" },
        { text: "Outros", value: "outro" }
      ],
    },
    {
      text: "Qual √© o seu cen√°rio ideal para um festival?",
        options: [
          { text: "Ao ar livre", value: "arLivre" },
          { text: "Em grandes recintos", value: "recintos" },
          { text: "Num espa√ßo mais pequeno e alternativo", value: "espa√ßoPequeno" }
        ],
    },
    {
      text: "A dura√ß√£o de um festival √© um fator importante para si?",
        options: [
          { text: "N√£o, quanto mais longo, melhor", value: "longo" },
          { text: "Sim, prefiro eventos mais curtos", value: "curto" },
          { text: "Depende da progama√ß√£o e dos artistas", value: "idk" }
        ],
    },
    {
      text: "Como encara novos estilos musicais?",
        options: [
          { text: "Gosto de descobrir novas m√∫sicas e artistas", value: "descobrir" },
          { text: "Prefiro ouvir o que j√° conhe√ßo", value: "conhecido" },
        ],
    },
    {
      text: "Como costuma ser o seu estado de esp√≠rito durante um festival?",
        options: [
          { text: "Quero dan√ßar do in√≠cio ao fim", value: "dancar" },
          { text: "Gosto de desfrutar da m√∫sica com tranquilidade", value: "tranquilidade" },
          { text: "Quero viver cada momento com intensidade", value: "intensidade" }
        ],
    },
    {
      text: "Valoriza festivais que oferecem atividades para al√©m da m√∫sica?",
        options: [
          {text: "Sim, considero importante haver experi√™ncias complementares", value:"experiencias"},
          {text:"N√£o, o essencial √© a m√∫sica", value:"musica"}
        ]
    },
    {
      text:"Prefere festivais com um, ou v√°rios artistas a tocar ao mesmo tempo?",
        options: [
          {text: "Prefiro focar-me num artista de cada vez", value:"um"},
          {text:"Gosto de v√°rios palcos e estilos a acontecer em simult√¢neo", value:"varios"}
        ]
    }
    
  ];
    const festivalMessages = {
      'MEO Kalorama': {
        bg: "quiz_images/kalorama.webp",
        info: "üìç Parque da Bela Vista, Lisboa<br>üí∏ Desde 145‚Ç¨<br><a href='https://meokalorama.pt' target='_blank'>Comprar bilhetes</a>"
      },
      'Evil Live': {
        bg: "quiz_images/evillive.webp",
        info: "üìç Portim√£o Arena, Algarve<br>üí∏ Desde 60‚Ç¨<br><a href='https://evillive.pt' target='_blank'>Comprar bilhetes</a>"
      },
      'Sumol Summer Fest': {
        bg: "quiz_images/sumol.webp",
        info: "üìç Praia de Espinho, Porto<br>üí∏ Desde 79‚Ç¨<br><a href='https://sumolsummerfest.com' target='_blank'>Comprar bilhetes</a>"
      },
      'RFM SOMNII Intermach√©': {
        bg: "quiz_images/rfm.webp",
        info: "üìç Figueira da Foz<br>üí∏ Desde 69‚Ç¨<br><a href='https://rfmsomnii.pt' target='_blank'>Comprar bilhetes</a>"
      },
      'NOS Alive': {
        bg: "quiz_images/nosalive.webp",
        info: "üìç Passeio Mar√≠timo de Alg√©s<br>üí∏ Desde 84,53‚Ç¨<br><a href='https://nosalive.com' target='_blank'>Comprar bilhetes</a>"
      },
      'BOOM Festival': {
        bg: "quiz_images/boom.webp",
        info: "üìç Idanha‚Äëa‚ÄëNova<br>üí∏ Desde 150‚Ç¨<br><a href='https://boomfestival.org' target='_blank'>Comprar bilhetes</a>"
      },
      'MEO Mar√©s Vivas': {
        bg: "quiz_images/maresvivas.webp",
        info: "üìç Vila Nova de Gaia<br>üí∏ Desde 59‚Ç¨<br><a href='https://maresvivas.pt' target='_blank'>Comprar bilhetes</a>"
      },
      'Neopop': {
        bg: "quiz_images/neopop.webp",
        info: "üìç Viana do Castelo<br>üí∏ Desde 65‚Ç¨<br><a href='https://neopopfestival.com' target='_blank'>Comprar bilhetes</a>"
      },
      'Vodafone Paredes de Coura': {
        bg: "quiz_images/coura.webp",
        info: "üìç Paredes de Coura<br>üí∏ Desde 129‚Ç¨<br><a href='https://paredesdecoura.com' target='_blank'>Comprar bilhetes</a>"
      },
      'Indie Music Fest': {
        bg: "quiz_images/indie.webp",
        info: "üìç Ermesinde, Porto<br>üí∏ Desde 40‚Ç¨<br><a href='https://indiemusicfest.com' target='_blank'>Comprar bilhetes</a>"
      },
      'Vagos Metal Fest': {
        bg: "quiz_images/vagos.webp",
        info: "üìç Vagos, Aveiro<br>üí∏ Desde 95‚Ç¨<br><a href='https://vagosmetalfest.com' target='_blank'>Comprar bilhetes</a>"
      },
      'Festival Vilar de Mouros': {
        bg: "quiz_images/vilar.webp",
        info: "üìç Vilar de Mouros<br>üí∏ Desde 55‚Ç¨<br><a href='https://vilarperm.com' target='_blank'>Comprar bilhetes</a>"
      }
    };

    let festivalScores;
    let currentQuestionIndex = 0;
    let selectedAnswers = [];

    const startBtn = document.getElementById('start-btn');
    const introScreen = document.getElementById('intro-screen');
    const questionScreen = document.getElementById('question-screen');
    const questionText = document.getElementById('question-text');
    const optionsContainer = document.getElementById('options-container');
    const nextBtn = document.getElementById('next-btn');
    const resultScreen = document.getElementById('result-screen');
    const resultTitle = document.getElementById('result-title');
    const festivalInfo = document.getElementById('festival-info');
    const restartBtn = document.getElementById('restart-btn');

    startBtn.onclick = () => {
      introScreen.style.display = 'none';
      questionScreen.style.display = 'block';
      currentQuestionIndex = 0;
      selectedAnswers = [];
      resetScores();
      showQuestion();
    };

    nextBtn.onclick = () => {
      const sel = document.querySelector('.option.selected');
      if (sel) {
        selectedAnswers.push(sel.dataset.value);
        currentQuestionIndex++;
        if (currentQuestionIndex < questions.length)
          showQuestion();
        else
          calculateResult();
      }
    };

    restartBtn.onclick = () => {
      resultScreen.style.display = 'none';
      introScreen.style.display = 'block';
    };

    function resetScores() {
      festivalScores = {};
      Object.keys(festivalMessages).forEach(f => festivalScores[f] = 0);
    }

    function showQuestion() {
      const q = questions[currentQuestionIndex];
      questionText.textContent = q.text;
      optionsContainer.innerHTML = '';
      nextBtn.disabled = true;
      q.options.forEach(o => {
        const d = document.createElement('div');
        d.className = 'option';
        d.textContent = o.text;
        d.dataset.value = o.value;
        d.onclick = () => {
          document.querySelectorAll('.option').forEach(x => x.classList.remove('selected'));
          d.classList.add('selected');
          nextBtn.disabled = false;
        };
        optionsContainer.appendChild(d);
      });
      document.querySelector('.quiz-container').style.backgroundImage = questionBackgrounds[currentQuestionIndex];
    }

    function calculateResult() {
      resetScores();
      selectedAnswers.forEach(a => updateScores(a));
      const top = Object.entries(festivalScores).sort((a,b) => b[1]-a[1])[0][0];
      showResult(top);
    }

    function showResult(f) {
      questionScreen.style.display = 'none';
      resultScreen.style.display = 'block';
      resultTitle.textContent = f;
      festivalInfo.innerHTML = festivalMessages[f].info;
      document.querySelector('.quiz-container').style.backgroundImage =
        `url('${festivalMessages[f].bg}')`;
    }

    function updateScores(answer) {
      switch(answer) {
        case 'rock':
          festivalScores['NOS Alive'] +=6;
          festivalScores['MEO Mar√©s Vivas'] +=6;
          festivalScores['MEO Kalorama'] +=6;
          festivalScores['Vodafone Paredes de Coura'] +=6;
          festivalScores['Festival Vilar de Mouros'] +=5;
          break;
        case 'eletronica':
          festivalScores['Neopop'] +=6;
          festivalScores['BOOM Festival'] +=6;
          festivalScores['RFM SOMNII Intermach√©'] +=6;
          festivalScores['MEO Kalorama'] +=2;
          festivalScores['NOS Alive'] +=2;
          festivalScores['Festival Vilar de Mouros'] +=1;
          break;
        case 'pop':
          festivalScores['MEO Kalorama'] +=4;
          festivalScores['MEO Mar√©s Vivas'] +=4;
          festivalScores['NOS Alive'] +=4;
          festivalScores['Sumol Summer Fest'] +=2;
          festivalScores['Festival Vilar de Mouros'] +=2;
          break;
        case 'hip‚Äëhop':
          festivalScores['Sumol Summer Fest'] +=7;
          festivalScores['MEO Mar√©s Vivas'] +=2;
          festivalScores['MEO Kalorama'] +=3;
          break;
        case 'indie':
          festivalScores['Indie Music Fest'] +=6;
          festivalScores['Vodafone Paredes de Coura'] +=4;
          festivalScores['Festival Vilar de Mouros'] +=2;
          break;
        case 'metal':
          festivalScores['Vagos Metal Fest'] +=7;
          festivalScores['Evil Live'] +=7;
          festivalScores['Festival Vilar de Mouros'] +=1;
          break;
        case 'outro':
          festivalScores['NOS Alive'] +=2;
          festivalScores['MEO Mar√©s Vivas'] +=2;
          festivalScores['Vodafone Paredes de Coura'] +=1;
          festivalScores['Indie Music Fest'] +=2;
          festivalScores['Festival Vilar de Mouros'] +=2;
          break;
        case 'arLivre':
          ['RFM SOMNII Intermach√©','BOOM Festival','Vodafone Paredes de Coura','MEO Mar√©s Vivas','Sumol Summer Fest','Vagos Metal Fest','Festival Vilar de Mouros','NOS Alive','MEO Kalorama']
            .forEach(f=>festivalScores[f]++);
          break;
        case 'recintos':
          festivalScores['Evil Live']++;
          break;
        case 'espa√ßoPequeno':
          festivalScores['Indie Music Fest']++;
          festivalScores['Neopop']++;
          break;
        case 'longo':
          ['BOOM Festival','Neopop','Vagos Metal Fest','Festival Vilar de Mouros','Vodafone Paredes de Coura']
            .forEach(f=>festivalScores[f]++);
          break;
        case 'curto':
          ['Sumol Summer Fest','MEO Kalorama','Evil Live','RFM SOMNII Intermach√©','NOS Alive','MEO Mar√©s Vivas','Indie Music Fest']
            .forEach(f=>festivalScores[f]+=1);
          break;
        case 'descobrir':
          ['BOOM Festival','Indie Music Fest','MEO Kalorama','Vodafone Paredes de Coura','Vagos Metal Fest','Festival Vilar de Mouros','Neopop']
            .forEach(f=>festivalScores[f]+=1);
          festivalScores['Indie Music Fest']++;
          festivalScores['MEO Kalorama']++;
          break;
        case 'conhecido':
          ['Sumol Summer Fest','NOS Alive','MEO Mar√©s Vivas','Evil Live','RFM SOMNII Intermach√©']
            .forEach(f=>festivalScores[f]++);
          break;
        case 'dancar':
          ['RFM SOMNII Intermach√©','Sumol Summer Fest','Neopop','Festival Vilar de Mouros']
            .forEach(f=>festivalScores[f]++);
          break;
        case 'tranquilidade':
          ['Indie Music Fest','MEO Mar√©s Vivas','Vodafone Paredes de Coura','MEO Kalorama']
            .forEach(f=>festivalScores[f]++);
          break;
        case 'intensidade':
          ['Evil Live','BOOM Festival','NOS Alive','Neopop','Vagos Metal Fest']
            .forEach(f=>festivalScores[f]++);
          break;
        case 'experiencias':
          ['BOOM Festival','RFM SOMNII Intermach√©','Indie Music Fest','Vodafone Paredes de Coura','Vagos Metal Fest','Festival Vilar de Mouros']
            .forEach(f=>festivalScores[f]+=1);
          festivalScores['BOOM Festival']++;
          festivalScores['Indie Music Fest']++;
          break;
        case 'musica':
          ['MEO Kalorama','Evil Live','Sumol Summer Fest','NOS Alive','MEO Mar√©s Vivas','Neopop']
            .forEach(f=>festivalScores[f]++);
          break;
        case 'um':
          ['Evil Live','Sumol Summer Fest','MEO Mar√©s Vivas','Indie Music Fest','Vagos Metal Fest']
            .forEach(f=>festivalScores[f]++);
          break;
        case 'varios':
          ['MEO Kalorama','NOS Alive','BOOM Festival','RFM SOMNII Intermach√©','Neopop','Vodafone Paredes de Coura']
            .forEach(f=>festivalScores[f]++);
          break;
      }
    }
  </script>
</body>
</html>
